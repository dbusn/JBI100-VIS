<!DOCTYPE html>
<html>
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
    <title>pydeck</title>
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
    <script src='https://cdn.jsdelivr.net/npm/@deck.gl/jupyter-widget@~8.5.*/dist/index.js'></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #deck-map-container {
            width: 100%;
            height: 100%;
            background-color: black;
        }

        #map {
            pointer-events: none;
            height: 100%;
            width: 100%;
            position: absolute;
            z-index: 1;
        }

        #deckgl-overlay {
            z-index: 2;
            background: none;
        }

        #deck-map-wrapper {
            width: 100%;
            height: 100%;
        }

        #deck-container {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
<div id="deck-container">
</div>
</body>
<script>
    const jsonInput = {
        "initialViewState": {
            "bearing": -27.36,
            "latitude": 52.2323,
            "longitude": -1.415,
            "maxZoom": 15,
            "minZoom": 5,
            "pitch": 40.5,
            "zoom": 6
        },
        "layers": [{
            "@@type": "HeatmapLayer",
            "aggregation": "SUM",
            "data": "https://raw.githubusercontent.com/dbusn/JBI100-VIS/main/dataset_unique.csv",
            "getPosition": "@@=[Longitude, Latitude]",
            "id": "dccfb304-0a62-4978-abf4-ce4077073b41",
            "opacity": 0.9,
            "pickable": true,
            "threshold": 0.75
        }],
        "mapProvider": "carto",
        "mapStyle": "https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",
        "views": [{"@@type": "MapView", "controller": true}]
    };
    const tooltip = true;
    const customLibraries = null;

    const deckInstance = createDeck({
        container: document.getElementById('deck-container'),
        jsonInput,
        tooltip,
        customLibraries
    });

</script>
</html>